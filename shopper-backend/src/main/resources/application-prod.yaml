spring:
  # ── 데이터소스 (운영: 환경 변수 주입) ─────────────────────────────────────
  datasource:
    url: ${DB_URL}
    username: ${DB_USERNAME}
    password: ${DB_PASSWORD}
    driver-class-name: org.postgresql.Driver
    hikari:
      maximum-pool-size: 10
      minimum-idle: 5
      connection-timeout: 30000

  # ── JPA (운영: DDL 자동 변경 비활성화) ────────────────────────────────────
  jpa:
    hibernate:
      ddl-auto: validate
    show-sql: false

  # ── Redis (운영: 환경 변수 주입) ───────────────────────────────────────────
  data:
    redis:
      host: ${REDIS_HOST}
      port: ${REDIS_PORT:6379}
      password: ${REDIS_PASSWORD:}

# ── 앱 설정 (운영: 환경 변수 주입) ───────────────────────────────────────────
app:
  frontend-url: ${FRONTEND_URL}

# ── JWT (운영: 환경 변수 주입) ────────────────────────────────────────────────
jwt:
  secret: ${JWT_SECRET}
  access-token-expiry: ${JWT_ACCESS_EXPIRY:900000}
  refresh-token-expiry: ${JWT_REFRESH_EXPIRY:604800000}

# ── AWS S3 (운영: 환경 변수 주입) ────────────────────────────────────────────
cloud:
  aws:
    credentials:
      access-key: ${AWS_ACCESS_KEY}
      secret-key: ${AWS_SECRET_KEY}
    region:
      static: ap-northeast-2
    s3:
      bucket: ${AWS_S3_BUCKET}

# ── 운영 로깅 ─────────────────────────────────────────────────────────────────
logging:
  level:
    com.jihee.shopper: INFO
    org.hibernate.SQL: WARN
